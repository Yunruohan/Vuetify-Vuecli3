{"remainingRequest":"/Users/dmsun/Desktop/workspace/solar/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/dmsun/Desktop/workspace/solar/src/pages/welfare/views/Goods.vue?vue&type=template&id=13fa277e&","dependencies":[{"path":"/Users/dmsun/Desktop/workspace/solar/src/pages/welfare/views/Goods.vue","mtime":1547889925000},{"path":"/Users/dmsun/Desktop/workspace/solar/node_modules/cache-loader/dist/cjs.js","mtime":1547890140000},{"path":"/Users/dmsun/Desktop/workspace/solar/node_modules/vue-loader/lib/loaders/templateLoader.js","mtime":499162500000},{"path":"/Users/dmsun/Desktop/workspace/solar/node_modules/cache-loader/dist/cjs.js","mtime":1547890140000},{"path":"/Users/dmsun/Desktop/workspace/solar/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":["\n<div class=\"goods\">\n  <v-layout align-center justify-end style=\"height:64px\">\n    <v-btn @click=\"addButton()\" color=\"primary\" dark>新增商品</v-btn>\n  </v-layout>\n  <v-data-table\n    :headers=\"headers\"\n    :items=\"desserts\"\n    :loading=\"isPending\"\n    hide-actions\n    class=\"elevation-1\"\n  >\n    <template slot=\"items\" slot-scope=\"props\">\n      <td>{{ props.item.id }}</td>\n      <td>{{ props.item.name }}</td>\n      <td>￥{{ props.item.original | formatCurrency }}</td>\n      <td>￥{{ props.item.current | formatCurrency }}</td>\n      <td>{{ props.item.bought }}/{{ props.item.total }}</td>\n      <td>{{ props.item.mchnt }} ({{ props.item.userid }})</td>\n      <td>{{ props.item.area | formatArea }}</td>\n      <td>\n        <v-switch @change=\"beforeUpdateStatus($event, props.item.id)\" v-model=\"props.item.status\" color=\"primary\" :messages=\"props.item.status === 1 ? '已上架' : '已下架'\"  :true-value=\"1\" :false-value=\"0\"></v-switch>\n      </td>\n      <td>\n        <v-btn flat icon color=\"primary\" class=\"mx-0\" @click=\"viewGoods(props.item)\">\n          <v-icon small>details</v-icon>\n        </v-btn>\n      </td>\n    </template>\n    <template slot=\"no-data\">\n      <p style=\"text-align:center;padding-top:16px;\">暂无数据</p>\n    </template>\n  </v-data-table>\n  <div class=\"pagination-container\">\n    <span class=\"pagination-total\">共 {{total}} 条</span>\n    <v-select\n      v-model=\"pageSize\"\n      :items=\"selectItems\"\n      @change=\"fetchData()\"\n      height=\"20\"\n      label=\"10页/条\"\n      solo\n    ></v-select>\n    <v-pagination\n      v-model=\"page\"\n      @input=\"fetchData()\"\n      :length=\"parseInt(total / pageSize) + 1\"\n      :total-visible=\"7\"\n    ></v-pagination>\n  </div>\n\n  <v-dialog\n    v-model=\"isShowDialog\"\n    fullscreen\n    hide-overlay\n    transition=\"dialog-bottom-transition\"\n  >\n    <v-toolbar card dark color=\"primary\">\n      <v-toolbar-title v-if=\"isReadOnly\">商品详情</v-toolbar-title>\n      <v-toolbar-title v-else>{{isUpdate ? '修改商品' : '新增商品'}}</v-toolbar-title>\n      <v-spacer></v-spacer>\n      <v-btn icon dark @click.native=\"isShowDialog = false\">\n        <v-icon>close</v-icon>\n      </v-btn>\n    </v-toolbar>\n    <v-form ref=\"form\" v-model=\"valid\" lazy-validation>\n      <v-text-field label=\"名称\" :readonly=\"isReadOnly\" :rules=\"formRulse.nameRules\" counter=\"100\" v-model=\"goodsInfo.name\"/>\n      <uploadImage label=\"图片\" :readonly=\"isReadOnly\" ref=\"uploadimage\" :maxNumber=\"9\"/>\n      <p class=\"pt-2\" style=\"color:rgba(0,0,0,.54)\">* jpg格式，最多9张，不超过200k, 推荐尺寸254*192</p>\n      <v-textarea label=\"描述\" counter=\"1000\" :readonly=\"isReadOnly\" :rules=\"formRulse.introRules\" auto-grow v-model=\"goodsInfo.intro\"/>\n      <uploadImage label=\"详细图\" :readonly=\"isReadOnly\" ref=\"uploadetail\" :maxNumber=\"9\"/>\n      <p class=\"pt-2\" style=\"color:rgba(0,0,0,.54)\">* jpg格式，最多9张，不超过300k, 推荐尺寸宽400~600，高不限</p>\n      <v-text-field label=\"原价\" ref=\"original\" :readonly=\"isReadOnly\" :rules=\"formRulse.originalRules\" v-model=\"original_format\" @input=\"verifyCurrency()\" :error-messages=\"currencyErrorMessages\"/>\n      <v-text-field label=\"现价\" ref=\"current\" :readonly=\"isReadOnly\" :rules=\"formRulse.currentRules\" v-model=\"current_format\" @input=\"verifyCurrency()\" :error-messages=\"currencyErrorMessages\"/>\n      <v-text-field label=\"库存\" :readonly=\"isReadOnly\" :rules=\"formRulse.totalRules\" v-model=\"goodsInfo.total\"/>\n      <label class=\"custom-label\">有效期</label>\n      <v-layout align-center justify-space-between>\n        <v-menu v-model=\"startDatemenu\" :disabled=\"isReadOnly\" transition=\"scale-transition\" :close-on-content-click=\"false\" style=\"width:260px\">\n          <v-text-field append-icon=\"event\" :rules=\"formRulse.dateRules\" slot=\"activator\" readonly label=\"开始日期\" v-model=\"goodsInfo.start_date\"></v-text-field>\n          <v-date-picker color=\"primary\" v-model=\"goodsInfo.start_date\" :max=\"goodsInfo.end_date\" locale=\"zh-Hans\" no-title @input=\"startDatemenu = false\"></v-date-picker>\n        </v-menu>\n        <v-menu v-model=\"endDatemenu\" :disabled=\"isReadOnly\" transition=\"scale-transition\" :close-on-content-click=\"false\" style=\"width:260px\">\n          <v-text-field append-icon=\"event\" :rules=\"formRulse.dateRules\" slot=\"activator\" readonly label=\"结束日期\" v-model=\"goodsInfo.end_date\"></v-text-field>\n          <v-date-picker color=\"primary\" v-model=\"goodsInfo.end_date\" :min=\"goodsInfo.start_date\" locale=\"zh-Hans\" no-title @input=\"endDatemenu = false\"></v-date-picker>\n        </v-menu>\n      </v-layout>\n      <label class=\"custom-label\">使用时间段</label>\n      <v-layout align-center justify-space-between>\n        <v-menu ref=\"startmenu\" v-model=\"startTimeMenu\" :disabled=\"isReadOnly\" :close-on-content-click=\"false\" transition=\"scale-transition\" style=\"width:260px\">\n          <v-text-field label=\"开始时间\" ref=\"startime\" append-icon=\"event\" slot=\"activator\" readonly v-model=\"goodsInfo.startTime\"></v-text-field>\n          <v-time-picker v-if=\"startTimeMenu\" v-model=\"goodsInfo.startTime\" :max=\"goodsInfo.endTime\" format=\"24hr\" no-title @change=\"$refs.startmenu.save(goodsInfo.startTime)\"></v-time-picker>\n        </v-menu>\n        <v-menu ref=\"endmenu\" v-model=\"endTimeMenu\" :disabled=\"isReadOnly\" :close-on-content-click=\"false\" transition=\"scale-transition\" style=\"width:260px\">\n          <v-text-field label=\"结束时间\" ref=\"endtime\" append-icon=\"event\" slot=\"activator\" readonly v-model=\"goodsInfo.endTime\"></v-text-field>\n          <v-time-picker v-if=\"endTimeMenu\" v-model=\"goodsInfo.endTime\" :min=\"goodsInfo.startTime\" format=\"24hr\" no-title @change=\"$refs.endmenu.save(goodsInfo.endTime)\"></v-time-picker>\n        </v-menu>\n      </v-layout>\n      <v-textarea label=\"注意事项\" :readonly=\"isReadOnly\" counter=\"400\" :rules=\"formRulse.noticeRules\" auto-grow v-model=\"goodsInfo.notice\"></v-textarea>\n      <v-text-field label=\"商品来源\" :readonly=\"isReadOnly\" :counter=\"goodsInfo.src ? 10 : undefined\" :rules=\"formRulse.srcRules\" v-model=\"goodsInfo.src\"/>\n      <v-text-field label=\"关联商户id\" :readonly=\"isReadOnly\" :rules=\"formRulse.useridRules\" v-model=\"goodsInfo.userid\" :error-messages=\"useridErrorMessages\" @blur=\"fetchStores($event.target.value, true)\"/>\n      <v-select\n        label=\"兑换门店\"\n        :items=\"stores\"\n        item-text=\"name\"\n        item-value=\"id\"\n        :rules=\"formRulse.storesRules\"\n        v-model=\"goodsInfo.exchange\"\n        multiple\n        return-object\n        chips\n      ></v-select>\n      <div v-if=\"isReadOnly\" style=\"text-align:right;\">\n        <v-btn @click=\"isReadOnly = false\" color=\"primary\">编辑</v-btn>\n      </div>\n      <div v-else style=\"text-align:right;\">\n        <v-btn :disabled=\"!valid\" @click=\"submit()\" color=\"primary\">保存</v-btn>\n        <v-btn @click=\"reset()\">重置</v-btn>\n      </div>\n    </v-form>\n  </v-dialog>\n  <comfirm @okHandler=\"updateStatus()\" @cancelHandler=\"cancelUpdateStatus()\" :isVisiable=\"showComfirm\" :msg=\"currentItem.status === 1 ? '确定下架该商品吗？' : '确定上架该商品吗？'\" />\n</div>\n",null]}
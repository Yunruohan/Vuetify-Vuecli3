{"remainingRequest":"/Users/dmsun/Desktop/workspace/solar/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/dmsun/Desktop/workspace/solar/src/pages/org/views/org.vue?vue&type=template&id=3c24ee84&","dependencies":[{"path":"/Users/dmsun/Desktop/workspace/solar/src/pages/org/views/org.vue","mtime":1547889925000},{"path":"/Users/dmsun/Desktop/workspace/solar/node_modules/cache-loader/dist/cjs.js","mtime":1547890140000},{"path":"/Users/dmsun/Desktop/workspace/solar/node_modules/vue-loader/lib/loaders/templateLoader.js","mtime":499162500000},{"path":"/Users/dmsun/Desktop/workspace/solar/node_modules/cache-loader/dist/cjs.js","mtime":1547890140000},{"path":"/Users/dmsun/Desktop/workspace/solar/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":["\n<div class=\"orgs\">\n  <v-layout align-center justify-space-between>\n    <v-form ref=\"searchForm\" class=\"search-form\">\n      <v-text-field label=\"服务商名称\" hide-details v-model=\"searchParams.name\"/>\n      <v-text-field label=\"登录账号\" hide-details v-model=\"searchParams.username\"/>\n      <v-select\n        label=\"状态\" hide-details\n        :items=\"searchFormStatus\"\n        v-model=\"searchParams.status\"\n      >\n      </v-select>\n      <v-btn @click=\"search()\" color=\"primary\">查找</v-btn>\n    </v-form>\n    <v-btn @click=\"openOrgDialog()\" color=\"primary\">添加服务商</v-btn>\n  </v-layout>\n  <v-data-table\n    :headers=\"headers\"\n    :items=\"desserts\"\n    :loading=\"isPending\"\n    hide-actions\n    class=\"elevation-1\"\n  >\n    <template slot=\"items\" slot-scope=\"props\">\n      <td>{{ props.item.name }}</td>\n      <td>{{ props.item.qd_uid }}</td>\n      <td>{{ props.item.username }}</td>\n      <td>{{ props.item.type | formatType}}</td>\n      <td>{{ props.item.ctime }}</td>\n      <td>{{ props.item.utime }}</td>\n      <td>\n        <v-switch @change=\"beforeUpdateStatus($event, props.item.qd_uid)\" v-model=\"props.item.status\" color=\"primary\" :messages=\"props.item.status === 0 ? '已启用' : '已停用'\"  :true-value=\"0\" :false-value=\"1\"></v-switch>\n      </td>\n      <td>\n        <v-btn flat icon color=\"primary\" class=\"mx-0\" @click=\"viewDetails(props.item.qd_uid)\">\n          <v-icon small>details</v-icon>\n        </v-btn>\n      </td>\n    </template>\n    <template slot=\"no-data\">\n      <p style=\"text-align:center;padding-top:16px;\">暂无数据</p>\n    </template>\n  </v-data-table>\n  <div class=\"pagination-container\">\n    <span class=\"pagination-total\">共 {{total}} 条</span>\n    <v-select\n      v-model=\"pageSize\"\n      :items=\"selectItems\"\n      @change=\"fetchData()\"\n      height=\"20\"\n      label=\"10页/条\"\n      solo\n    ></v-select>\n    <v-pagination\n      v-model=\"page\"\n      @input=\"fetchData()\"\n      :length=\"parseInt(total / pageSize) + 1\"\n      :total-visible=\"7\"\n    ></v-pagination>\n  </div>\n\n  <v-dialog\n    v-model=\"isShowDialog\"\n    fullscreen\n    hide-overlay\n    transition=\"dialog-bottom-transition\"\n  >\n    <v-toolbar card dark color=\"primary\">\n      <v-toolbar-title>{{isUpdate ? '修改服务商' : '添加服务商'}}</v-toolbar-title>\n      <v-spacer></v-spacer>\n      <v-btn icon dark @click.native=\"isShowDialog = false\">\n        <v-icon>close</v-icon>\n      </v-btn>\n    </v-toolbar>\n\n    <v-expansion-panel v-model=\"panel\" expand>\n      <v-expansion-panel-content>\n        <div slot=\"header\">基本信息</div>\n        <v-form ref=\"baseForm\" lazy-validation>\n          <v-text-field label=\"服务商名称\" :rules=\"formRules.emptyRules\" v-model=\"baseInfo.short_name\"/>\n          <v-select\n            v-model=\"baseInfo.type\"\n            :rules=\"formRules.emptyRules\"\n            :items=\"orgTypes\"\n            item-value=\"type\"\n            label=\"服务商类型\"\n          ></v-select>\n          <v-text-field label=\"公司名称\" :rules=\"formRules.emptyRules\" v-model=\"baseInfo.name\"/>\n          <v-text-field label=\"登录账号\" :rules=\"formRules.emptyRules\" v-model=\"baseInfo.username\"/>\n          <v-text-field label=\"法人姓名\" :rules=\"formRules.emptyRules\" v-model=\"baseInfo.legal_name\"/>\n          <v-select\n            label=\"状态\"\n            :items=\"[{\n              text: '启用',\n              value: 0\n            }, {\n              text: '停用',\n              value: 1\n            }]\"\n            v-model=\"baseInfo.status\"\n          >\n          </v-select>\n          <v-text-field label=\"联系电话\" :rules=\"formRules.emptyRules\" v-model=\"baseInfo.mobile\"/>\n          <v-select\n            v-model=\"baseInfo.country\"\n            :rules=\"formRules.emptyRules\"\n            :items=\"countrys\"\n            item-value=\"code\"\n            label=\"国家\"\n          ></v-select>\n          <v-text-field label=\"联系邮箱\" :rules=\"formRules.emptyRules\" v-model=\"baseInfo.email\"/>\n          <v-select\n            v-model=\"baseInfo.currency\"\n            :rules=\"formRules.emptyRules\"\n            :items=\"currencys\"\n            item-value=\"code\"\n            label=\"币种\"\n          ></v-select>\n          <v-text-field label=\"公司地址\" :rules=\"formRules.emptyRules\" v-model=\"baseInfo.address\"/>\n          <v-select\n            v-model=\"baseInfo.timezone\"\n            :rules=\"formRules.emptyRules\"\n            :items=\"timezones\"\n            label=\"时区\"\n          ></v-select>\n        </v-form>\n      </v-expansion-panel-content>\n      <v-expansion-panel-content>\n        <div slot=\"header\">财务信息</div>\n        <v-form ref=\"financeForm\" lazy-validation>\n          <v-text-field label=\"开户名称\" :rules=\"formRules.emptyRules\" v-model=\"financeInfo.account_name\"/>\n          <v-text-field label=\"开户银行名称\" :rules=\"formRules.emptyRules\" v-model=\"financeInfo.bank_name\"/>\n          <v-text-field label=\"银行账号\" :rules=\"formRules.emptyRules\" v-model=\"financeInfo.bank_account\"/>\n          <v-text-field label=\"银行所在国别\" :rules=\"formRules.emptyRules\" v-model=\"financeInfo.bank_country\"/>\n          <v-text-field label=\"SWIFT CODE\" :rules=\"formRules.emptyRules\" v-model=\"financeInfo.swift_code\"/>\n          <v-text-field label=\"支行名称\" :rules=\"formRules.emptyRules\" v-model=\"financeInfo.brchbank_name\"/>\n          <v-text-field label=\"IBAN No.\" :rules=\"formRules.emptyRules\" v-model=\"financeInfo.iban\"/>\n          <v-text-field label=\"支行代码\" :rules=\"formRules.emptyRules\" v-model=\"financeInfo.brchbank_code\"/>\n        </v-form>\n      </v-expansion-panel-content>\n      <v-expansion-panel-content>\n        <div slot=\"header\">产品信息</div>\n        <v-layout align-center justify-end>\n          <v-btn color=\"primary\" @click=\"openProductionDialog()\">添加通道</v-btn>\n        </v-layout>\n        <v-data-table\n          :headers=\"productionHeaders\"\n          :items=\"productions\"\n          hide-actions\n          class=\"elevation-1\"\n        >\n          <template slot=\"items\" slot-scope=\"props\">\n            <td>{{ props.item.chnlname }}</td>\n            <td>{{ props.item.trade_name }}</td>\n            <td>{{ props.item.ratio }}</td>\n            <td>{{ props.item.fix_fee }}分</td>\n            <td>\n              <v-switch @change=\"changeProductionStatus($event, props.item.chnlcode)\" v-model=\"props.item.status\" color=\"primary\" :messages=\"props.item.status === 1 ? '已启用' : '已停用'\"  :true-value=\"1\" :false-value=\"0\"></v-switch>\n            </td>\n            <td>\n              <v-btn flat icon color=\"primary\" class=\"mx-0\" @click=\"editProductionDialog(props.index, props.item)\">\n                <v-icon small>edit</v-icon>\n              </v-btn>\n              <v-btn v-if=\"!isUpdate\" flat icon color=\"primary\" class=\"mx-0\" @click=\"deleteProduction(props.item.chnlcode)\">\n                <v-icon small>highlight_off</v-icon>\n              </v-btn>\n            </td>\n          </template>\n          <template slot=\"no-data\">\n            <p style=\"text-align:center;padding-top:16px;\">暂无数据</p>\n          </template>\n        </v-data-table>\n      </v-expansion-panel-content>\n      <!--\n        <uploadImage :src=\"photos.id\" label=\"法人身份证正面\" ref=\"idUpload\"/>\n        <uploadImage :src=\"photos.reverseId\" label=\"法人身份证反面\" ref=\"reverseIdUpload\"/>\n        <uploadImage :src=\"photos.company\" label=\"公司注册证书\" ref=\"companyUpload\"/>\n        <uploadImage :src=\"photos.business\" label=\"商业登记证\" ref=\"businessUpload\"/>\n       -->\n    </v-expansion-panel>\n    <v-btn color=\"primary\" @click=\"submitOrg()\" class=\"mx-5 my-3\">保存</v-btn>\n  </v-dialog>\n  <v-dialog\n    v-model=\"isShowProductionDialog\"\n    max-width=\"500px\"\n    content-class=\"production-dialog\"\n  >\n    <v-toolbar card dark color=\"primary\">\n      <v-toolbar-title>{{isUpdateProduction ? '修改通道' : '添加通道'}}</v-toolbar-title>\n      <v-spacer></v-spacer>\n      <v-btn icon dark @click.native=\"isShowProductionDialog = false\">\n        <v-icon>close</v-icon>\n      </v-btn>\n    </v-toolbar>\n    <v-form ref=\"productionForm\" lazy-validation>\n      <v-select\n        ref=\"channel\"\n        label=\"通道\"\n        :items=\"channels\"\n        :disabled=\"isUpdateProduction\"\n        item-value=\"chnlcode\"\n        @change=\"selectChannel\"\n        v-model=\"channelInfo.chnlcode\"\n        :rules=\"formRules.emptyRules\"\n      ></v-select>\n      <v-select\n        label=\"产品\"\n        :items=\"channelTrades\"\n        item-text=\"name\"\n        item-value=\"trade_type\"\n        v-model=\"channelInfo.trade_type\"\n        :rules=\"formRules.emptyRules\"\n      ></v-select>\n      <v-text-field\n        v-model.number=\"channelInfo.ratio\"\n        label=\"费率成本\"\n        placeholder=\"示例：0.38%填写0.0038\"\n        type=\"number\"\n        :rules=\"formRules.numberRules\"\n      ></v-text-field>\n      <v-text-field\n        v-model.number=\"channelInfo.fix_fee\"\n        label=\"固定值成本\"\n        type=\"number\"\n        suffix=\"分\"\n        :rules=\"formRules.numberRules\"\n      ></v-text-field>\n      <v-btn color=\"primary\" @click=\"saveProduction()\">保存</v-btn>\n    </v-form>\n  </v-dialog>\n  <comfirm @okHandler=\"updateStatus()\" @cancelHandler=\"cancelUpdateStatus()\" :isVisiable=\"showComfirm\" :msg=\"currentItem.status === 0 ? '确定启用吗？' : '确定停用吗？'\" />\n</div>\n",null]}
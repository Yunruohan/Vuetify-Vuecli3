{"remainingRequest":"/Users/dmsun/Desktop/workspace/solar/node_modules/babel-loader/lib/index.js!/Users/dmsun/Desktop/workspace/solar/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/dmsun/Desktop/workspace/solar/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/dmsun/Desktop/workspace/solar/src/pages/welfare/views/common/ShelfCtrl.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/dmsun/Desktop/workspace/solar/src/pages/welfare/views/common/ShelfCtrl.vue","mtime":1547889925000},{"path":"/Users/dmsun/Desktop/workspace/solar/node_modules/cache-loader/dist/cjs.js","mtime":1547890140000},{"path":"/Users/dmsun/Desktop/workspace/solar/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/dmsun/Desktop/workspace/solar/node_modules/cache-loader/dist/cjs.js","mtime":1547890140000},{"path":"/Users/dmsun/Desktop/workspace/solar/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":["import _regeneratorRuntime from \"/Users/dmsun/Desktop/workspace/solar/node_modules/@babel/runtime/regenerator\";\n\nfunction _asyncToGenerator(fn) { return function () { var self = this, args = arguments; return new Promise(function (resolve, reject) { var gen = fn.apply(self, args); function step(key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { Promise.resolve(value).then(_next, _throw); } } function _next(value) { step(\"next\", value); } function _throw(err) { step(\"throw\", err); } _next(); }); }; }\n\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nimport Http from '@/http';\nexport default {\n  props: ['type', 'status', 'id', 'visi'],\n  data: function data() {\n    return {};\n  },\n  methods: {\n    close: function close() {\n      this.$emit('close');\n      this.$emit('statusCtrl');\n    },\n    offCtrl: function () {\n      var _offCtrl = _asyncToGenerator(\n      /*#__PURE__*/\n      _regeneratorRuntime.mark(function _callee() {\n        var res;\n        return _regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                if (!(this.type === 'ad')) {\n                  _context.next = 6;\n                  break;\n                }\n\n                _context.next = 3;\n                return Http.post('/travel/banner/options', {\n                  up_lower: Number(this.status),\n                  mode: 'change_state',\n                  id: this.id\n                });\n\n              case 3:\n                res = _context.sent;\n                _context.next = 10;\n                break;\n\n              case 6:\n                if (!(this.type === 'coupon')) {\n                  _context.next = 10;\n                  break;\n                }\n\n                _context.next = 9;\n                return Http.post('/travel/goods/options', {\n                  status: Number(this.status),\n                  mode: 'change_info',\n                  id: this.id\n                });\n\n              case 9:\n                res = _context.sent;\n\n              case 10:\n                if (res && res.data) {\n                  if (res.data.respcd === '0000') {\n                    this.$emit('close');\n                    this.$emit('ctrl');\n                    this.$store.dispatch('setAlert', {\n                      alert: true,\n                      alertContent: '操作成功',\n                      alertType: 'success'\n                    });\n                  } else {\n                    // 问题提示\n                    this.$store.dispatch('setAlert', {\n                      alert: true,\n                      alertContent: res.data.respmsg,\n                      alertType: 'error'\n                    });\n                  }\n                }\n\n              case 11:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee, this);\n      }));\n\n      return function offCtrl() {\n        return _offCtrl.apply(this, arguments);\n      };\n    }()\n  }\n};",{"version":3,"sources":["ShelfCtrl.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA+BA,OAAA,IAAA,MAAA,QAAA;AACA,eAAA;AACA,SAAA,CACA,MADA,EAEA,QAFA,EAGA,IAHA,EAIA,MAJA,CADA;AAOA,MAPA,kBAOA;AACA,WAAA,EAAA;AAEA,GAVA;AAWA,WAAA;AACA,SADA,mBACA;AACA,WAAA,KAAA,CAAA,OAAA;AACA,WAAA,KAAA,CAAA,YAAA;AACA,KAJA;AAKA,WALA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBAOA,KAAA,IAAA,KAAA,IAPA;AAAA;AAAA;AAAA;;AAAA;AAAA,uBAQA,KAAA,IAAA,CAAA,wBAAA,EAAA;AACA,4BAAA,OAAA,KAAA,MAAA,CADA;AAEA,wBAAA,cAFA;AAGA,sBAAA,KAAA;AAHA,iBAAA,CARA;;AAAA;AAQA,mBARA;AAAA;AAAA;;AAAA;AAAA,sBAaA,KAAA,IAAA,KAAA,QAbA;AAAA;AAAA;AAAA;;AAAA;AAAA,uBAcA,KAAA,IAAA,CAAA,uBAAA,EAAA;AACA,0BAAA,OAAA,KAAA,MAAA,CADA;AAEA,wBAAA,aAFA;AAGA,sBAAA,KAAA;AAHA,iBAAA,CAdA;;AAAA;AAcA,mBAdA;;AAAA;AAoBA,oBAAA,OAAA,IAAA,IAAA,EAAA;AACA,sBAAA,IAAA,IAAA,CAAA,MAAA,KAAA,MAAA,EAAA;AACA,yBAAA,KAAA,CAAA,OAAA;AACA,yBAAA,KAAA,CAAA,MAAA;AACA,yBAAA,MAAA,CAAA,QAAA,CAAA,UAAA,EAAA;AACA,6BAAA,IADA;AAEA,oCAAA,MAFA;AAGA,iCAAA;AAHA,qBAAA;AAKA,mBARA,MAQA;AACA;AACA,yBAAA,MAAA,CAAA,QAAA,CAAA,UAAA,EAAA;AACA,6BAAA,IADA;AAEA,oCAAA,IAAA,IAAA,CAAA,OAFA;AAGA,iCAAA;AAHA,qBAAA;AAKA;AACA;;AArCA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAXA,CAAA","sourcesContent":["<template>\n  <v-dialog\n    v-model=\"visi\"\n    width=\"400\" persistent\n  >\n    <v-card>\n      <v-card-text v-if=\"type == 'ad'\">\n        确定{{status ? '上架' : '下架'}}该广告吗?\n      </v-card-text>\n      <v-card-text v-if=\"type == 'coupon'\">\n        确定{{status ? '上架' : '下架'}}该优惠券吗？\n      </v-card-text>\n\n      <v-card-actions>\n        <v-spacer></v-spacer>\n        <v-btn\n          color=\"primary\"\n          @click=\"offCtrl\" small\n        >\n          确定\n        </v-btn>\n        <v-btn\n          @click=\"close\" small\n        >\n          取消\n        </v-btn>\n      </v-card-actions>\n    </v-card>\n  </v-dialog>\n</template>\n<script>\nimport Http from '@/http'\nexport default {\n  props: [\n    'type',\n    'status',\n    'id',\n    'visi'\n  ],\n  data () {\n    return {\n    }\n  },\n  methods: {\n    close () {\n      this.$emit('close')\n      this.$emit('statusCtrl')\n    },\n    async offCtrl () {\n      let res\n      if (this.type === 'ad') {\n        res = await Http.post('/travel/banner/options', {\n          up_lower: Number(this.status),\n          mode: 'change_state',\n          id: this.id\n        })\n      } else if (this.type === 'coupon') {\n        res = await Http.post('/travel/goods/options', {\n          status: Number(this.status),\n          mode: 'change_info',\n          id: this.id\n        })\n      }\n      if (res && res.data) {\n        if (res.data.respcd === '0000') {\n          this.$emit('close')\n          this.$emit('ctrl')\n          this.$store.dispatch('setAlert', {\n            alert: true,\n            alertContent: '操作成功',\n            alertType: 'success'\n          })\n        } else {\n          // 问题提示\n          this.$store.dispatch('setAlert', {\n            alert: true,\n            alertContent: res.data.respmsg,\n            alertType: 'error'\n          })\n        }\n      }\n    }\n  }\n}\n</script>\n<style scoped>\n.v-head-cus{text-align: center;width: 100%;position: relative;}\n.f-r{float: right;}\n</style>\n"],"sourceRoot":"src/pages/welfare/views/common"}]}